<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>iTalkBB 客户服务中心</title>
<script src="../../Scripts/jquery-1.4.2.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.fn.menu.js" type="text/javascript"></script>
<script src="menu.data.cache.js" type="text/javascript"></script>

<script type="text/javascript">
    var gTag = "auto";
    var m = $.Request("m");
    if (m != null && m != "") {
        gTag = m;
    }
    var delay = $.Request("delay");
    if (delay == null || delay == "") {
        delay = 1;
    }
    var aClick = $.Request("click");
    if (aClick == null || aClick == "") {
        aClick = 1;
    }
    delay = delay * 1000;
    var isClick = false;
    if (aClick > 0) {
        isClick = true;
    } else {
        isClick = false;
    }
    var iscloseOnMouseOut = true;
    $(function () {
        bMenu();
        Clock();
    });
    function bMenu() {
        var config = {
            menuWidth: 210,
            openOnRight: false,
            hasImages: true,
            adjustLeft: 2,
            minZindex: "auto",
            adjustTop: 10,
            shadow: false,
            shadowColor: "#ccc",
            hoverIntent: 0,
            openOnClick: isClick,
            closeOnMouseOut: iscloseOnMouseOut,
            closeAfter: delay,
            submenuHoverIntent: 0,
            submenuCols: gTag
        }
       // MenuCreateHtml(menu, "menuHolder", config);
        $.SmartMenu(menu, "menuHolder", config);
    }
    
    /*  ---------Debug fn--------------------*/
    function ResetMenu(t) {
        autoTag = false;
        gTag = t;
        bMenu();
        msg("done");
    }
    function ResetParams(a, b) {
        delay = b * 1000;
        bMenu();
    }
    function Clock() {
        setInterval(function () {
            var d = Date();
            $("#timer").html(d);
        }, 1000);
    }
    function AutoMenu() {
        gTag = "auto";
        bMenu();
        msg("done!");
    }
    function msg(s) {
        $("#msg").html(s);
        $("#msg").css("color","red").show();
        setTimeout(function () {
            $("#msg").fadeOut("slow");
        }, 1000);

    }
</script>

<link href="../../Content/menu_red.css" rel="stylesheet" type="text/css" media="screen"  />
<!--[if IE]>
<link rel="stylesheet" type="text/css" href="../../Content/menu.ie.css" />
<![endif]-->
</head>
<body class="clearType">
<div id="menuHolder">

</div>

<br />
<br />
Test Button
<button onclick="ResetMenu(5)">5</button>
<button onclick="ResetMenu(6)">6</button>
<button onclick="ResetMenu(7)">7</button>
<button onclick="ResetMenu(8)">8</button>
<button onclick="ResetMenu(9)">9</button>
<button onclick="ResetMenu(10)">10</button>
<button onclick="ResetMenu(13)">13</button>
<button onclick="AutoMenu()" class="btn1" >Auto</button>
<span id="msg"></span>
<hr />
 <button onclick="$('[rel=stylesheet]').attr('href','../../Content/menu_red.css')">A</button>
 <button onclick="$('[rel=stylesheet]').attr('href','../../Content/menu_black.css')">B</button>
 <button onclick="$('[rel=stylesheet]').attr('href','../../Content/menu_red2.css')">C</button>

<!--<select>
<option>5</option>
<option>6</option>
<option>7</option>
<option>8</option>
<option>9</option>
<option>11</option>
</select>-->

<!--延迟消失:<input type="text" id="delay" value="1" />
<button onclick="ResetParams('delay',$('#delay').val())">重置</button>-->
<hr />
<div id="timer"></div>
</body>
</html>
